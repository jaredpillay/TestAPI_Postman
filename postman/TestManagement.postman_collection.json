{
  "info": {
    "_postman_id": "550e8400-e29b-41d4-a716-446655440000",
    "name": "Test Management API",
    "description": "REST API for test case management, test run tracking, and defect management. Built for QA practice and interview prep.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Test Cases",
      "item": [
        {
          "name": "Get All Test Cases",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases?page=1&pageSize=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"],
              "query": [
                {
                  "key": "priority",
                  "value": "High",
                  "disabled": true
                },
                {
                  "key": "isActive",
                  "value": "true",
                  "disabled": true
                },
                {
                  "key": "tag",
                  "value": "api",
                  "disabled": true
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "pageSize",
                  "value": "10"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response is an object with Data, TotalCount, Page, PageSize', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('data');",
                  "    pm.expect(jsonData).to.have.property('totalCount');",
                  "    pm.expect(jsonData).to.have.property('page');",
                  "    pm.expect(jsonData).to.have.property('pageSize');",
                  "});",
                  "",
                  "pm.test('X-RateLimit headers present', function () {",
                  "    pm.expect(pm.response.headers.has('X-RateLimit-Limit')).to.be.true;",
                  "    pm.expect(pm.response.headers.has('X-RateLimit-Remaining')).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get All Test Cases (with filter)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases?priority=High&isActive=true&page=1&pageSize=10",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"],
              "query": [
                {
                  "key": "priority",
                  "value": "High"
                },
                {
                  "key": "isActive",
                  "value": "true"
                },
                {
                  "key": "page",
                  "value": "1"
                },
                {
                  "key": "pageSize",
                  "value": "10"
                }
              ]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Results are filtered correctly', function () {",
                  "    var jsonData = pm.response.json();",
                  "    jsonData.data.forEach(function(testcase) {",
                  "        pm.expect(testcase.priority).to.equal('High');",
                  "        pm.expect(testcase.isActive).to.equal(true);",
                  "    });",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Test Case by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases/550e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases", "550e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has correct test case properties', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('title');",
                  "    pm.expect(jsonData).to.have.property('priority');",
                  "    pm.expect(jsonData).to.have.property('isActive');",
                  "    pm.expect(jsonData).to.have.property('tags');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Non-existent Test Case (404)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases/00000000-0000-0000-0000-000000000000",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases", "00000000-0000-0000-0000-000000000000"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 404', function () {",
                  "    pm.response.to.have.status(404);",
                  "});",
                  "",
                  "pm.test('Error response has ProblemDetails structure', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('type');",
                  "    pm.expect(jsonData).to.have.property('title');",
                  "    pm.expect(jsonData).to.have.property('status', 404);",
                  "    pm.expect(jsonData).to.have.property('detail');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Test Case",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Test new feature endpoint\",\n  \"description\": \"Verify that the new feature endpoint returns correct data\",\n  \"priority\": \"High\",\n  \"isActive\": true,\n  \"tags\": [\"api\", \"feature\", \"integration\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201 Created', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test('Location header is present', function () {",
                  "    pm.expect(pm.response.headers.has('Location')).to.be.true;",
                  "});",
                  "",
                  "pm.test('Response contains created test case with ID', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.title).to.equal('Test new feature endpoint');",
                  "    pm.expect(jsonData.priority).to.equal('High');",
                  "    pm.expect(jsonData.tags.length).to.be.at.least(1);",
                  "});",
                  "",
                  "pm.environment.set('testCaseId', pm.response.json().id);"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Test Case - Invalid Title (too short)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"AB\",\n  \"priority\": \"Medium\",\n  \"isActive\": true,\n  \"tags\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400 Bad Request', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error contains validation message about title length', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.errors.title).to.be.an('array');",
                  "    pm.expect(jsonData.errors.title[0]).to.include('between 3 and 120');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Test Case - Missing Title (400)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"\",\n  \"priority\": \"Medium\",\n  \"isActive\": true\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 400', function () {",
                  "    pm.response.to.have.status(400);",
                  "});",
                  "",
                  "pm.test('Error indicates title is required', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.errors.title[0]).to.include('required');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Test Case (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Updated test case title\",\n  \"description\": \"Updated description\",\n  \"priority\": \"Low\",\n  \"isActive\": false,\n  \"tags\": [\"updated\", \"modified\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testcases/550e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases", "550e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response reflects updated values', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.title).to.equal('Updated test case title');",
                  "    pm.expect(jsonData.priority).to.equal('Low');",
                  "    pm.expect(jsonData.isActive).to.equal(false);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Partially Update Test Case (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"priority\": \"High\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testcases/550e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases", "550e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Only specified field is updated', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.priority).to.equal('High');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Delete Test Case (when not referenced)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases/550e8400-e29b-41d4-a716-446655440005",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases", "550e8400-e29b-41d4-a716-446655440005"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 204 No Content', function () {",
                  "    pm.response.to.have.status(204);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Delete Test Case - Referenced by TestRun (409)",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases/550e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases", "550e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 409 Conflict', function () {",
                  "    pm.response.to.have.status(409);",
                  "});",
                  "",
                  "pm.test('Error indicates conflict', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.equal(409);",
                  "    pm.expect(jsonData.detail).to.include('referenced');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Test Runs",
      "item": [
        {
          "name": "Get All Test Runs",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testruns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testruns"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response is an array', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(Array.isArray(jsonData)).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Test Run by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testruns/660e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testruns", "660e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has test run properties', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('name');",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData).to.have.property('testCaseIds');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Test Run",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Sprint 3 - API Testing\",\n  \"status\": \"InProgress\",\n  \"executedAt\": \"2025-12-16T10:00:00Z\",\n  \"testCaseIds\": [\"550e8400-e29b-41d4-a716-446655440001\", \"550e8400-e29b-41d4-a716-446655440002\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testruns",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testruns"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201 Created', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test('Response contains created test run', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.name).to.equal('Sprint 3 - API Testing');",
                  "    pm.expect(jsonData.status).to.equal('InProgress');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Test Run (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"name\": \"Sprint 3 - API Testing Updated\",\n  \"status\": \"Completed\",\n  \"executedAt\": \"2025-12-16T12:00:00Z\",\n  \"testCaseIds\": [\"550e8400-e29b-41d4-a716-446655440001\"]\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testruns/660e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testruns", "660e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response reflects updated values', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.equal('Completed');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Partially Update Test Run (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"Planned\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testruns/660e8400-e29b-41d4-a716-446655440002",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testruns", "660e8400-e29b-41d4-a716-446655440002"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Delete Test Run",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testruns/660e8400-e29b-41d4-a716-446655440003",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testruns", "660e8400-e29b-41d4-a716-446655440003"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 204 No Content', function () {",
                  "    pm.response.to.have.status(204);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Defects",
      "item": [
        {
          "name": "Get All Defects",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/defects",
              "host": ["{{baseUrl}}"],
              "path": ["api", "defects"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response is an array', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(Array.isArray(jsonData)).to.be.true;",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Get Defect by ID",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/defects/770e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "defects", "770e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Response has defect properties', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData).to.have.property('title');",
                  "    pm.expect(jsonData).to.have.property('severity');",
                  "    pm.expect(jsonData).to.have.property('status');",
                  "    pm.expect(jsonData).to.have.property('createdAt');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Create Defect",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"UI button alignment broken on mobile\",\n  \"severity\": \"Major\",\n  \"status\": \"Open\",\n  \"linkedTestCaseId\": \"550e8400-e29b-41d4-a716-446655440001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/defects",
              "host": ["{{baseUrl}}"],
              "path": ["api", "defects"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 201 Created', function () {",
                  "    pm.response.to.have.status(201);",
                  "});",
                  "",
                  "pm.test('Response contains created defect', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData).to.have.property('id');",
                  "    pm.expect(jsonData.title).to.equal('UI button alignment broken on mobile');",
                  "    pm.expect(jsonData.severity).to.equal('Major');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Update Defect (PUT)",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Login button alignment broken on mobile\",\n  \"severity\": \"Critical\",\n  \"status\": \"InProgress\",\n  \"linkedTestCaseId\": \"550e8400-e29b-41d4-a716-446655440001\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/defects/770e8400-e29b-41d4-a716-446655440001",
              "host": ["{{baseUrl}}"],
              "path": ["api", "defects", "770e8400-e29b-41d4-a716-446655440001"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});",
                  "",
                  "pm.test('Defect updated correctly', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.severity).to.equal('Critical');",
                  "    pm.expect(jsonData.status).to.equal('InProgress');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Partially Update Defect (PATCH)",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"status\": \"Resolved\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/defects/770e8400-e29b-41d4-a716-446655440002",
              "host": ["{{baseUrl}}"],
              "path": ["api", "defects", "770e8400-e29b-41d4-a716-446655440002"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200', function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Delete Defect",
          "request": {
            "method": "DELETE",
            "header": [
              {
                "key": "X-API-Key",
                "value": "{{apiKey}}",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/defects/770e8400-e29b-41d4-a716-446655440003",
              "host": ["{{baseUrl}}"],
              "path": ["api", "defects", "770e8400-e29b-41d4-a716-446655440003"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 204 No Content', function () {",
                  "    pm.response.to.have.status(204);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Authentication & Authorization",
      "item": [
        {
          "name": "Request without API Key (401)",
          "request": {
            "method": "GET",
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 401 Unauthorized', function () {",
                  "    pm.response.to.have.status(401);",
                  "});",
                  "",
                  "pm.test('Error indicates missing API key', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.equal(401);",
                  "    pm.expect(jsonData.detail).to.include('API key');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Request with invalid API Key (401)",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "invalid-key-12345",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 401 Unauthorized', function () {",
                  "    pm.response.to.have.status(401);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Read-only key cannot POST (403)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "X-API-Key",
                "value": "read-key",
                "type": "text"
              },
              {
                "key": "Content-Type",
                "value": "application/json",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"Test case\",\n  \"priority\": \"Medium\",\n  \"isActive\": true,\n  \"tags\": []\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 403 Forbidden', function () {",
                  "    pm.response.to.have.status(403);",
                  "});",
                  "",
                  "pm.test('Error indicates read-only key', function () {",
                  "    var jsonData = pm.response.json();",
                  "    pm.expect(jsonData.status).to.equal(403);",
                  "    pm.expect(jsonData.detail).to.include('read-only');",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        },
        {
          "name": "Read-only key CAN GET",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "X-API-Key",
                "value": "read-key",
                "type": "text"
              }
            ],
            "url": {
              "raw": "{{baseUrl}}/api/testcases",
              "host": ["{{baseUrl}}"],
              "path": ["api", "testcases"]
            }
          },
          "response": [],
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "pm.test('Status code is 200 - read-only key can read', function () {",
                  "    pm.response.to.have.status(200);",
                  "});"
                ],
                "type": "text/javascript"
              }
            }
          ]
        }
      ]
    },
    {
      "name": "Health Check",
      "request": {
        "method": "GET",
        "header": [
          {
            "key": "X-API-Key",
            "value": "{{apiKey}}",
            "type": "text"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/health",
          "host": ["{{baseUrl}}"],
          "path": ["health"]
        }
      },
      "response": [],
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "pm.test('Status code is 200', function () {",
              "    pm.response.to.have.status(200);",
              "});",
              "",
              "pm.test('Health response has correct structure', function () {",
              "    var jsonData = pm.response.json();",
              "    pm.expect(jsonData.status).to.equal('healthy');",
              "    pm.expect(jsonData).to.have.property('timestamp');",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5106",
      "type": "string"
    },
    {
      "key": "apiKey",
      "value": "qa-key",
      "type": "string"
    }
  ]
}
